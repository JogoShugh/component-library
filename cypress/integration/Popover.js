context('Popover', () => {
  beforeEach(() => {
    cy.navigate([/^Components$/, /^Popover$/]);
  });

  specify('can be positioned relative to an anchor', () => {
    cy.viewport(1920, 1080);
    cy.get('[data-component="Popover"]').as('sut');
    const data = [
      {
        x: 993,
        y: 532,
        width: 200,
        height: 25,
        top: 532,
        right: 1193,
        bottom: 557,
        left: 993,
      },
      {
        x: 993,
        y: 591,
        width: 200,
        height: 25,
        top: 591,
        right: 1193,
        bottom: 616,
        left: 993,
      },
      {
        x: 1109,
        y: 736,
        width: 200,
        height: 25,
        top: 736,
        right: 1309,
        bottom: 761,
        left: 1109,
      },
      {
        x: 877,
        y: 852,
        width: 200,
        height: 25,
        top: 852,
        right: 1077,
        bottom: 877,
        left: 877,
      },
      {
        x: 993,
        y: 939,
        width: 200,
        height: 25,
        top: 939,
        right: 1193,
        bottom: 964,
        left: 993,
      },
      {
        x: 1077,
        y: 1055,
        width: 200,
        height: 25,
        top: 1055,
        right: 1277,
        bottom: 1080,
        left: 1077,
      },
      {
        x: 1077,
        y: 1171,
        width: 200,
        height: 25,
        top: 1171,
        right: 1277,
        bottom: 1196,
        left: 1077,
      },
      {
        x: 1109,
        y: 1312,
        width: 200,
        height: 25,
        top: 1312,
        right: 1309,
        bottom: 1337,
        left: 1109,
      },
      {
        x: 877,
        y: 1428,
        width: 200,
        height: 25,
        top: 1428,
        right: 1077,
        bottom: 1453,
        left: 877,
      },
      {
        x: 1077,
        y: 1519,
        width: 200,
        height: 25,
        top: 1519,
        right: 1277,
        bottom: 1544,
        left: 1077,
      },
      {
        x: 909,
        y: 1635,
        width: 200,
        height: 25,
        top: 1635,
        right: 1109,
        bottom: 1660,
        left: 909,
      },
      {
        x: 909,
        y: 1751,
        width: 200,
        height: 25,
        top: 1751,
        right: 1109,
        bottom: 1776,
        left: 909,
      },
      {
        x: 1109,
        y: 1899,
        width: 200,
        height: 25,
        top: 1899,
        right: 1309,
        bottom: 1924,
        left: 1109,
      },
      {
        x: 877,
        y: 2015,
        width: 200,
        height: 25,
        top: 2015,
        right: 1077,
        bottom: 2040,
        left: 877,
      },
      {
        x: 909,
        y: 2099,
        width: 200,
        height: 25,
        top: 2099,
        right: 1109,
        bottom: 2124,
        left: 909,
      },
    ];
    cy.get('@sut').then(els => {
      const rects = els.toArray().map(el => el.getBoundingClientRect());
      expect(JSON.stringify(rects)).to.eql(JSON.stringify(data));
    });
  });
});
